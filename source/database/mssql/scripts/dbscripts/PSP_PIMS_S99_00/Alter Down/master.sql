-- File generated on 02/04/2025 12:44:29 PM.
-- Autogenerated file. Do not manually modify.

:On Error Exit
SET XACT_ABORT ON
GO

PRINT '     == DB SCRIPT START ========'
GO

BEGIN TRANSACTION
PRINT '     == DB TRANSACTION START ========'
   GO

   --Script section

   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/002_PSP_PIMS_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/002_PSP_PIMS_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/010_DML_PIMS_STATIC_VARIABLE_VERSION.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/010_DML_PIMS_STATIC_VARIABLE_VERSION.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/073_DML_PIMS_LEASE_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/073_DML_PIMS_LEASE_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/083_DML_PIMS_RESEARCH_FILE_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/083_DML_PIMS_RESEARCH_FILE_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/089_DML_PIMS_ACQUISITION_FILE_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/089_DML_PIMS_ACQUISITION_FILE_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/110_DML_PIMS_PROJECT_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/110_DML_PIMS_PROJECT_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/117_DML_PIMS_TAKE_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/117_DML_PIMS_TAKE_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/138_DML_PIMS_DISPOSITION_FILE_STATUS_TYPE_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/138_DML_PIMS_DISPOSITION_FILE_STATUS_TYPE_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/998 Migrate_Comp_Req_Dates_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/998 Migrate_Comp_Req_Dates_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/998 Migrate_Legacy_Payees_Alter_Down.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/998 Migrate_Legacy_Payees_Alter_Down.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/999 Alter_PIMS_COMP_REQ_PAYEE.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/999 Alter_PIMS_COMP_REQ_PAYEE.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/999 Drop_PIMS_EXPROPRIATION_NOTICE.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/999 Drop_PIMS_EXPROPRIATION_NOTICE.sql"
   :r $(filepath)
   PRINT '- Executing PSP_PIMS_S99_00/Alter Down/999 Drop_PIMS_EXPROPRIATION_VESTING.sql '
   :setvar filepath "PSP_PIMS_S99_00/Alter Down/999 Drop_PIMS_EXPROPRIATION_VESTING.sql"
   :r $(filepath)

   --End script section

PRINT '     == DB TRANSACTION FINISH ========'
GO

If XACT_STATE()=1
  BEGIN
  PRINT '- Success: Committing Transaction...'
  COMMIT TRANSACTION;
  END
ELSE IF XACT_STATE()=-1
  BEGIN
  PRINT '- Error: Rolling Back Transaction...'
  ROLLBACK TRANSACTION;
  END;
ELSE IF XACT_STATE()=0
  BEGIN
  PRINT '- Error: No pending transactions...'
  ROLLBACK TRANSACTION;
  END;
GO
