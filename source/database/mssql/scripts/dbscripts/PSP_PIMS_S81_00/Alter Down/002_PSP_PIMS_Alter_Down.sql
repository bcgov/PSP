-- Script generated by Aqua Data Studio Schema Synchronization for MS SQL Server 2016 on Tue May 21 16:30:52 PDT 2024
-- Execute this script on:
-- 		PSP_PIMS_S81.00/dbo - This database/schema will be modified
-- to synchronize it with MS SQL Server 2016:
-- 		PSP_PIMS_S80.00/dbo

-- We recommend backing up the database prior to executing the script.

SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
GO
BEGIN TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCHKLI_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_LCHKLI_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCHKLI_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCHKLI_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_LCHKLI_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCHKLI_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCHKLI_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_LCHKLI_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCHKLI_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_LEASE_PIM_LCHKLI_FK
PRINT N'Drop foreign key constraint dbo.PIM_LEASE_PIM_LCHKLI_FK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM]
	DROP CONSTRAINT IF EXISTS [PIM_LEASE_PIM_LCHKLI_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_LCKITY_PIM_LCHKLI_FK
PRINT N'Drop foreign key constraint dbo.PIM_LCKITY_PIM_LCHKLI_FK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM]
	DROP CONSTRAINT IF EXISTS [PIM_LCKITY_PIM_LCHKLI_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_LCISTY_PIM_LCHKLI_FK
PRINT N'Drop foreign key constraint dbo.PIM_LCISTY_PIM_LCHKLI_FK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM]
	DROP CONSTRAINT IF EXISTS [PIM_LCISTY_PIM_LCHKLI_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_LCKSTY_PIM_LCKITY_FK
PRINT N'Drop foreign key constraint dbo.PIM_LCKSTY_PIM_LCKITY_FK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHKLST_ITEM_TYPE]
	DROP CONSTRAINT IF EXISTS [PIM_LCKSTY_PIM_LCKITY_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique index dbo.LCHKLI_LEASE_ID_UK
PRINT N'Drop unique index dbo.LCHKLI_LEASE_ID_UK'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM].[LCHKLI_LEASE_ID_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.LCHKLI_LEASE_ID_IDX
PRINT N'Drop index dbo.LCHKLI_LEASE_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM].[LCHKLI_LEASE_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.LCHKLI_LEASE_CHKLST_ITEM_TYPE_CODE_IDX
PRINT N'Drop index dbo.LCHKLI_LEASE_CHKLST_ITEM_TYPE_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM].[LCHKLI_LEASE_CHKLST_ITEM_TYPE_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.LCHKLI_LEASE_CHKLST_ITEM_STATUS_TYPE_CODE_IDX
PRINT N'Drop index dbo.LCHKLI_LEASE_CHKLST_ITEM_STATUS_TYPE_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM].[LCHKLI_LEASE_CHKLST_ITEM_STATUS_TYPE_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCKITY_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_LCKITY_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCKITY_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCKITY_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_LCKITY_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCKITY_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.LCKITY_LEASE_CHKLST_SECTION_TYPE_CODE_IDX
PRINT N'Drop index dbo.LCKITY_LEASE_CHKLST_SECTION_TYPE_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE_CHKLST_ITEM_TYPE].[LCKITY_LEASE_CHKLST_SECTION_TYPE_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCKSTY_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_LCKSTY_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCKSTY_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCKSTY_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_LCKSTY_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCKSTY_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCISTY_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_LCISTY_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCISTY_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_LCISTY_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_LCISTY_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_LCISTY_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.LEASE_PROJECT_ID_IDX
PRINT N'Drop index dbo.LEASE_PROJECT_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_LEASE].[LEASE_PROJECT_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_LCHKLI_H_UK
PRINT N'Drop unique constraint dbo.PIMS_LCHKLI_H_UK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_LCHKLI_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_LCHKLI_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_LCHKLI_H_PK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_LCHKLI_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.LCHKLI_PK
PRINT N'Drop primary key constraint dbo.LCHKLI_PK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHECKLIST_ITEM]
	DROP CONSTRAINT IF EXISTS [LCHKLI_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_LEASE_CHECKLIST_ITEM
PRINT N'Drop table dbo.PIMS_LEASE_CHECKLIST_ITEM'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.LCKITY_PK
PRINT N'Drop primary key constraint dbo.LCKITY_PK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHKLST_ITEM_TYPE]
	DROP CONSTRAINT IF EXISTS [LCKITY_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.LCKSTY_PK
PRINT N'Drop primary key constraint dbo.LCKSTY_PK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHKLST_SECTION_TYPE]
	DROP CONSTRAINT IF EXISTS [LCKSTY_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.LCISTY_PK
PRINT N'Drop primary key constraint dbo.LCISTY_PK'
GO
ALTER TABLE [dbo].[PIMS_LEASE_CHKLST_ITEM_STATUS_TYPE]
	DROP CONSTRAINT IF EXISTS [LCISTY_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_LEASE
PRINT N'Alter table dbo.PIMS_LEASE'
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_CATEGORY_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_ID'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_INITIATOR_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_LICENSE_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_PAY_RVBL_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_PROGRAM_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_PURPOSE_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_RESPONSIBILITY_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'LEASE_STATUS_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_updateextendedproperty 
	@name = N'MS_Description', @value = N'Project associated with this lease.' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'PROJECT_ID'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
EXEC sp_updateextendedproperty 
	@name = N'MS_Description', @value = N'MoTI region associated with the lease' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_LEASE', 
	@level2type = N'Column', @level2name = N'REGION_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_LEASE_CHECKLIST_ITEM_HIST
PRINT N'Drop table dbo.PIMS_LEASE_CHECKLIST_ITEM_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_LEASE_CHECKLIST_ITEM_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_LEASE_CHECKLIST_ITEM_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_LEASE_CHKLST_ITEM_TYPE
PRINT N'Drop table dbo.PIMS_LEASE_CHKLST_ITEM_TYPE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_LEASE_CHKLST_ITEM_TYPE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_LEASE_CHKLST_SECTION_TYPE
PRINT N'Drop table dbo.PIMS_LEASE_CHKLST_SECTION_TYPE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_LEASE_CHKLST_SECTION_TYPE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_LEASE_CHECKLIST_ITEM_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_LEASE_CHECKLIST_ITEM_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_LEASE_CHECKLIST_ITEM_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_LEASE_CHKLST_ITEM_STATUS_TYPE
PRINT N'Drop table dbo.PIMS_LEASE_CHKLST_ITEM_STATUS_TYPE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_LEASE_CHKLST_ITEM_STATUS_TYPE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

COMMIT TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
DECLARE @Success AS BIT
SET @Success = 1
SET NOEXEC OFF
IF (@Success = 1) PRINT 'The database update succeeded'
ELSE BEGIN
   IF @@TRANCOUNT > 0 ROLLBACK TRANSACTION
   PRINT 'The database update failed'
END
GO
