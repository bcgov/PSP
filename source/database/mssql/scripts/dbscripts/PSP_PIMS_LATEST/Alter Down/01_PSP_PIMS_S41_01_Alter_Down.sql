-- Script generated by Aqua Data Studio Schema Synchronization for MS SQL Server 2016 on Tue Nov 29 15:14:06 PST 2022
-- Execute this script on:
-- 		PSP_PIMS_S41_00_B/dbo - This database/schema will be modified
-- to synchronize it with MS SQL Server 2016:
-- 		PSP_PIMS_S40_00/dbo

-- We recommend backing up the database prior to executing the script.

SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
GO
BEGIN TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_YRFINC_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_YRFINC_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_YRFINC_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_YRFINC_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_YRFINC_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_YRFINC_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_WRKACT_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_WRKACT_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_WRKACT_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_WRKACT_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_WRKACT_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_WRKACT_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_BIZFCN_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_BIZFCN_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_BIZFCN_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_BIZFCN_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_BIZFCN_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_BIZFCN_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_FINACT_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_FINACT_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_FINACT_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_FINACT_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_FINACT_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_FINACT_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_CHRTAC_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_CHRTAC_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_CHRTAC_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_CHRTAC_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_CHRTAC_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_CHRTAC_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_CHRTAC_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_CHRTAC_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_CHRTAC_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.CHRTAC_CODE_IDX
PRINT N'Drop index dbo.CHRTAC_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE].[CHRTAC_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_BIZFCN_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_BIZFCN_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_BIZFCN_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique index dbo.BIZFCN_CODE_IDX
PRINT N'Drop unique index dbo.BIZFCN_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_BUSINESS_FUNCTION_CODE].[BIZFCN_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_WRKACT_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_WRKACT_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_WRKACT_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.WRKACT_CODE_IDX
PRINT N'Drop index dbo.WRKACT_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_WORK_ACTIVITY_CODE].[WRKACT_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_YRFINC_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_YRFINC_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_YRFINC_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.YRFINC_CODE_IDX
PRINT N'Drop index dbo.YRFINC_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_YEARLY_FINANCIAL_CODE].[YRFINC_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RESPCD_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_RESPCD_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RESPCD_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RESPCD_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_RESPCD_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RESPCD_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RESPCD_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_RESPCD_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RESPCD_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.RESPCD_CODE_IDX
PRINT N'Drop index dbo.RESPCD_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_RESPONSIBILITY_CODE].[RESPCD_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_FINACT_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_FINACT_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_FINACT_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.FINACT_CODE_IDX
PRINT N'Drop index dbo.FINACT_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE].[FINACT_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_COSTYP_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_COSTYP_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_COSTYP_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_COSTYP_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_COSTYP_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_COSTYP_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_COSTYP_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_COSTYP_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_COSTYP_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.COSTYP_CODE_IDX
PRINT N'Drop index dbo.COSTYP_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_COST_TYPE_CODE].[COSTYP_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.PRPRTY_PID_IDX
PRINT N'Drop index dbo.PRPRTY_PID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_PROPERTY].[PRPRTY_PID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_CHRTAC_H_UK
PRINT N'Drop unique constraint dbo.PIMS_CHRTAC_H_UK'
GO
ALTER TABLE [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_CHRTAC_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_CHRTAC_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_CHRTAC_H_PK'
GO
ALTER TABLE [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_CHRTAC_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.CHRTAC_PK
PRINT N'Drop primary key constraint dbo.CHRTAC_PK'
GO
ALTER TABLE [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE]
	DROP CONSTRAINT IF EXISTS [CHRTAC_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.BIZFCN_PK
PRINT N'Drop primary key constraint dbo.BIZFCN_PK'
GO
ALTER TABLE [dbo].[PIMS_BUSINESS_FUNCTION_CODE]
	DROP CONSTRAINT IF EXISTS [BIZFCN_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_BIZFCN_H_UK
PRINT N'Drop unique constraint dbo.PIMS_BIZFCN_H_UK'
GO
ALTER TABLE [dbo].[PIMS_BUSINESS_FUNCTION_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_BIZFCN_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_BIZFCN_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_BIZFCN_H_PK'
GO
ALTER TABLE [dbo].[PIMS_BUSINESS_FUNCTION_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_BIZFCN_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.WRKACT_PK
PRINT N'Drop primary key constraint dbo.WRKACT_PK'
GO
ALTER TABLE [dbo].[PIMS_WORK_ACTIVITY_CODE]
	DROP CONSTRAINT IF EXISTS [WRKACT_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_WRKACT_H_UK
PRINT N'Drop unique constraint dbo.PIMS_WRKACT_H_UK'
GO
ALTER TABLE [dbo].[PIMS_WORK_ACTIVITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_WRKACT_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_WRKACT_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_WRKACT_H_PK'
GO
ALTER TABLE [dbo].[PIMS_WORK_ACTIVITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_WRKACT_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.YRFINC_PK
PRINT N'Drop primary key constraint dbo.YRFINC_PK'
GO
ALTER TABLE [dbo].[PIMS_YEARLY_FINANCIAL_CODE]
	DROP CONSTRAINT IF EXISTS [YRFINC_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_YEARLY_FINANCIAL_CODE
PRINT N'Drop table dbo.PIMS_YEARLY_FINANCIAL_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_YEARLY_FINANCIAL_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_YRFINC_H_UK
PRINT N'Drop unique constraint dbo.PIMS_YRFINC_H_UK'
GO
ALTER TABLE [dbo].[PIMS_YEARLY_FINANCIAL_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_YRFINC_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_YRFINC_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_YRFINC_H_PK'
GO
ALTER TABLE [dbo].[PIMS_YEARLY_FINANCIAL_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_YRFINC_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_RESPCD_H_UK
PRINT N'Drop unique constraint dbo.PIMS_RESPCD_H_UK'
GO
ALTER TABLE [dbo].[PIMS_RESPONSIBILITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RESPCD_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_RESPCD_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_RESPCD_H_PK'
GO
ALTER TABLE [dbo].[PIMS_RESPONSIBILITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RESPCD_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.RESPCD_PK
PRINT N'Drop primary key constraint dbo.RESPCD_PK'
GO
ALTER TABLE [dbo].[PIMS_RESPONSIBILITY_CODE]
	DROP CONSTRAINT IF EXISTS [RESPCD_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.FINACT_PK
PRINT N'Drop primary key constraint dbo.FINACT_PK'
GO
ALTER TABLE [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE]
	DROP CONSTRAINT IF EXISTS [FINACT_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_FINACT_H_UK
PRINT N'Drop unique constraint dbo.PIMS_FINACT_H_UK'
GO
ALTER TABLE [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_FINACT_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_FINACT_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_FINACT_H_PK'
GO
ALTER TABLE [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_FINACT_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_COSTYP_H_UK
PRINT N'Drop unique constraint dbo.PIMS_COSTYP_H_UK'
GO
ALTER TABLE [dbo].[PIMS_COST_TYPE_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_COSTYP_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_COSTYP_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_COSTYP_H_PK'
GO
ALTER TABLE [dbo].[PIMS_COST_TYPE_CODE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_COSTYP_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.COSTYP_PK
PRINT N'Drop primary key constraint dbo.COSTYP_PK'
GO
ALTER TABLE [dbo].[PIMS_COST_TYPE_CODE]
	DROP CONSTRAINT IF EXISTS [COSTYP_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_ACTIVITY_TEMPLATE_HIST
PRINT N'Alter table dbo.PIMS_ACTIVITY_TEMPLATE_HIST'
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_TEMPLATE_HIST] ALTER COLUMN [ACTIVITY_TEMPLATE_TYPE_CODE] nvarchar(20) NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_DATA_SOURCE_TYPE
PRINT N'Alter table dbo.PIMS_DATA_SOURCE_TYPE'
GO
EXEC sp_updateextendedproperty 
	@name = N'MS_Description', @value = N'Code val;ue of the source system of the data (PAIMS, LIS, etc.)' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_DATA_SOURCE_TYPE', 
	@level2type = N'Column', @level2name = N'DATA_SOURCE_TYPE_CODE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_ACTIVITY_INSTANCE_HIST
PRINT N'Alter table dbo.PIMS_ACTIVITY_INSTANCE_HIST'
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_INSTANCE_HIST] ALTER COLUMN [ACTIVITY_TEMPLATE_ID] bigint NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_ACTIVITY_TEMPLATE
PRINT N'Alter table dbo.PIMS_ACTIVITY_TEMPLATE'
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_TEMPLATE] ALTER COLUMN [ACTIVITY_TEMPLATE_TYPE_CODE] nvarchar(20) NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_TEMPLATE] DROP CONSTRAINT IF EXISTS [ACTTMP_ACTIVITY_TEMPLATE_TYPE_CODE_DEF]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_ACTIVITY_INSTANCE
PRINT N'Alter table dbo.PIMS_ACTIVITY_INSTANCE'
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_INSTANCE] ALTER COLUMN [ACTIVITY_TEMPLATE_ID] bigint NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_ACTIVITY_INSTANCE] DROP CONSTRAINT IF EXISTS [ACTINS_ACTIVITY_TEMPLATE_ID_DEF]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_CHART_OF_ACCOUNTS_CODE_HIST
PRINT N'Drop table dbo.PIMS_CHART_OF_ACCOUNTS_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_CHART_OF_ACCOUNTS_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_CHART_OF_ACCOUNTS_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_CHART_OF_ACCOUNTS_CODE
PRINT N'Drop table dbo.PIMS_CHART_OF_ACCOUNTS_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_CHART_OF_ACCOUNTS_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_CHART_OF_ACCOUNTS_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_CHART_OF_ACCOUNTS_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_CHART_OF_ACCOUNTS_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_BUSINESS_FUNCTION_CODE
PRINT N'Drop table dbo.PIMS_BUSINESS_FUNCTION_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_BUSINESS_FUNCTION_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_BUSINESS_FUNCTION_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_BUSINESS_FUNCTION_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_BUSINESS_FUNCTION_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_BUSINESS_FUNCTION_CODE_HIST
PRINT N'Drop table dbo.PIMS_BUSINESS_FUNCTION_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_BUSINESS_FUNCTION_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_BUSINESS_FUNCTION_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_BUSINESS_FUNCTION_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_BUSINESS_FUNCTION_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_WORK_ACTIVITY_CODE
PRINT N'Drop table dbo.PIMS_WORK_ACTIVITY_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_WORK_ACTIVITY_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_WORK_ACTIVITY_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_WORK_ACTIVITY_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_WORK_ACTIVITY_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_WORK_ACTIVITY_CODE_HIST
PRINT N'Drop table dbo.PIMS_WORK_ACTIVITY_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_WORK_ACTIVITY_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_WORK_ACTIVITY_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_WORK_ACTIVITY_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_WORK_ACTIVITY_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_YEARLY_FINANCIAL_CODE_HIST
PRINT N'Drop table dbo.PIMS_YEARLY_FINANCIAL_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_YEARLY_FINANCIAL_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_YEARLY_FINANCIAL_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_YEARLY_FINANCIAL_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_YEARLY_FINANCIAL_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESPONSIBILITY_CODE_HIST
PRINT N'Drop table dbo.PIMS_RESPONSIBILITY_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESPONSIBILITY_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESPONSIBILITY_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESPONSIBILITY_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESPONSIBILITY_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESPONSIBILITY_CODE
PRINT N'Drop table dbo.PIMS_RESPONSIBILITY_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESPONSIBILITY_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESPONSIBILITY_CODE_SEQ
PRINT N'Drop sequence dbo.PIMS_RESPONSIBILITY_CODE_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESPONSIBILITY_CODE_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESPONSIBILITY_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESPONSIBILITY_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESPONSIBILITY_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_FINANCIAL_ACTIVITY_CODE
PRINT N'Drop table dbo.PIMS_FINANCIAL_ACTIVITY_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_FINANCIAL_ACTIVITY_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_FINANCIAL_ACTIVITY_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_FINANCIAL_ACTIVITY_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_FINANCIAL_ACTIVITY_CODE_HIST
PRINT N'Drop table dbo.PIMS_FINANCIAL_ACTIVITY_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_FINANCIAL_ACTIVITY_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_FINANCIAL_ACTIVITY_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_FINANCIAL_ACTIVITY_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_COST_TYPE_CODE_HIST
PRINT N'Drop table dbo.PIMS_COST_TYPE_CODE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_COST_TYPE_CODE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_COST_TYPE_CODE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_COST_TYPE_CODE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_COST_TYPE_CODE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_COST_TYPE_CODE
PRINT N'Drop table dbo.PIMS_COST_TYPE_CODE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_COST_TYPE_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_COST_TYPE_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_COST_TYPE_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_COST_TYPE_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

COMMIT TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
DECLARE @Success AS BIT
SET @Success = 1
SET NOEXEC OFF
IF (@Success = 1) PRINT 'The database update succeeded'
ELSE BEGIN
   IF @@TRANCOUNT > 0 ROLLBACK TRANSACTION
   PRINT 'The database update failed'
END
GO
