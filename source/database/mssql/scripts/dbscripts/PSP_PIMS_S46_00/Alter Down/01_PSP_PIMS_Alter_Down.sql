-- Script generated by Aqua Data Studio Schema Synchronization for MS SQL Server 2016 on Thu Jan 26 12:57:19 PST 2023
-- Execute this script on:
-- 		PSP_PIMS_S46_00/dbo - This database/schema will be modified
-- to synchronize it with MS SQL Server 2016:
-- 		PSP_PIMS_S45_01/dbo

-- We recommend backing up the database prior to executing the script.

SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
GO
BEGIN TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCDOC_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_RSCDOC_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCDOC_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCDOC_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_RSCDOC_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCDOC_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCNOT_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_RSCNOT_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCNOT_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCNOT_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_RSCNOT_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCNOT_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCNOT_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_RSCNOT_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCNOT_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_NOTE_PIM_RSCNOT_FK
PRINT N'Drop foreign key constraint dbo.PIM_NOTE_PIM_RSCNOT_FK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE]
	DROP CONSTRAINT IF EXISTS [PIM_NOTE_PIM_RSCNOT_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_RESRCH_PIM_RSCNOT_FK
PRINT N'Drop foreign key constraint dbo.PIM_RESRCH_PIM_RSCNOT_FK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE]
	DROP CONSTRAINT IF EXISTS [PIM_RESRCH_PIM_RSCNOT_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_RESRCH_PIM_RSCDOC_FK
PRINT N'Drop foreign key constraint dbo.PIM_RESRCH_PIM_RSCDOC_FK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [PIM_RESRCH_PIM_RSCDOC_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_DOCMNT_PIM_RSCDOC_FK
PRINT N'Drop foreign key constraint dbo.PIM_DOCMNT_PIM_RSCDOC_FK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [PIM_DOCMNT_PIM_RSCDOC_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_ACQNFL_PIM_ACQDOC_FK
PRINT N'Drop foreign key constraint dbo.PIM_ACQNFL_PIM_ACQDOC_FK'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [PIM_ACQNFL_PIM_ACQDOC_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop foreign key constraint dbo.PIM_DOCMNT_PIM_ACQDOC_FK
PRINT N'Drop foreign key constraint dbo.PIM_DOCMNT_PIM_ACQDOC_FK'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [PIM_DOCMNT_PIM_ACQDOC_FK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.RSCNOT_RESEARCH_FILE_ID_IDX
PRINT N'Drop index dbo.RSCNOT_RESEARCH_FILE_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE].[RSCNOT_RESEARCH_FILE_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.RSCNOT_NOTE_ID_IDX
PRINT N'Drop index dbo.RSCNOT_NOTE_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE].[RSCNOT_NOTE_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_RSCDOC_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_RSCDOC_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_RSCDOC_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.RSCDOC_RESEARCH_FILE_ID_IDX
PRINT N'Drop index dbo.RSCDOC_RESEARCH_FILE_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT].[RSCDOC_RESEARCH_FILE_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.RSCDOC_DOCUMENT_ID_IDX
PRINT N'Drop index dbo.RSCDOC_DOCUMENT_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT].[RSCDOC_DOCUMENT_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_ACQDOC_I_S_U_TR
PRINT N'Drop trigger dbo.PIMS_ACQDOC_I_S_U_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_ACQDOC_I_S_U_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_ACQDOC_I_S_I_TR
PRINT N'Drop trigger dbo.PIMS_ACQDOC_I_S_I_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_ACQDOC_I_S_I_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop trigger dbo.PIMS_ACQDOC_A_S_IUD_TR
PRINT N'Drop trigger dbo.PIMS_ACQDOC_A_S_IUD_TR'
GO
DROP TRIGGER IF EXISTS [dbo].[PIMS_ACQDOC_A_S_IUD_TR]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.ACQDOC_DOCUMENT_ID_IDX
PRINT N'Drop index dbo.ACQDOC_DOCUMENT_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT].[ACQDOC_DOCUMENT_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.ACQDOC_ACQUISITION_FILE_ID_IDX
PRINT N'Drop index dbo.ACQDOC_ACQUISITION_FILE_ID_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT].[ACQDOC_ACQUISITION_FILE_ID_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.PROJCT_PROJECT_STATUS_CODE_IDX
PRINT N'Drop index dbo.PROJCT_PROJECT_STATUS_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_PROJECT].[PROJCT_PROJECT_STATUS_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop index dbo.PROJCT_CODE_IDX
PRINT N'Drop index dbo.PROJCT_CODE_IDX'
GO
DROP INDEX IF EXISTS [dbo].[PIMS_PROJECT].[PROJCT_CODE_IDX]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.RSCNOT_RSRCH_FILE_NOTE_TUC
PRINT N'Drop unique constraint dbo.RSCNOT_RSRCH_FILE_NOTE_TUC'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE]
	DROP CONSTRAINT IF EXISTS [RSCNOT_RSRCH_FILE_NOTE_TUC]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.RSCNOT_PK
PRINT N'Drop primary key constraint dbo.RSCNOT_PK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE]
	DROP CONSTRAINT IF EXISTS [RSCNOT_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESEARCH_FILE_NOTE
PRINT N'Drop table dbo.PIMS_RESEARCH_FILE_NOTE'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_RSCNOT_H_UK
PRINT N'Drop unique constraint dbo.PIMS_RSCNOT_H_UK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RSCNOT_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_RSCNOT_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_RSCNOT_H_PK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_NOTE_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RSCNOT_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.RSCDOC_RESEARCH_FILE_DOCUMENT_TUC
PRINT N'Drop unique constraint dbo.RSCDOC_RESEARCH_FILE_DOCUMENT_TUC'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [RSCDOC_RESEARCH_FILE_DOCUMENT_TUC]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.RSCDOC_PK
PRINT N'Drop primary key constraint dbo.RSCDOC_PK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [RSCDOC_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESEARCH_FILE_DOCUMENT
PRINT N'Drop table dbo.PIMS_RESEARCH_FILE_DOCUMENT'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_RSCDOC_H_UK
PRINT N'Drop unique constraint dbo.PIMS_RSCDOC_H_UK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RSCDOC_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_RSCDOC_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_RSCDOC_H_PK'
GO
ALTER TABLE [dbo].[PIMS_RESEARCH_FILE_DOCUMENT_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_RSCDOC_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.PIMS_ACQDOC_H_UK
PRINT N'Drop unique constraint dbo.PIMS_ACQDOC_H_UK'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_ACQDOC_H_UK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.PIMS_ACQDOC_H_PK
PRINT N'Drop primary key constraint dbo.PIMS_ACQDOC_H_PK'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT_HIST]
	DROP CONSTRAINT IF EXISTS [PIMS_ACQDOC_H_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop unique constraint dbo.ACQNOT_ACQUISITION_FILE_DOCUMENT_TUC
PRINT N'Drop unique constraint dbo.ACQNOT_ACQUISITION_FILE_DOCUMENT_TUC'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [ACQNOT_ACQUISITION_FILE_DOCUMENT_TUC]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop primary key constraint dbo.ACQDOC_PK
PRINT N'Drop primary key constraint dbo.ACQDOC_PK'
GO
ALTER TABLE [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT]
	DROP CONSTRAINT IF EXISTS [ACQDOC_PK]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_ACQUISITION_FILE_DOCUMENT
PRINT N'Drop table dbo.PIMS_ACQUISITION_FILE_DOCUMENT'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_PROJECT
PRINT N'Alter table dbo.PIMS_PROJECT'
GO
UPDATE [dbo].[PIMS_PROJECT] SET [PROJECT_STATUS_TYPE_CODE] = ('ACTIVE'), CONCURRENCY_CONTROL_NUMBER = CONCURRENCY_CONTROL_NUMBER + 1 WHERE [PROJECT_STATUS_TYPE_CODE] IS NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT] ALTER COLUMN [PROJECT_STATUS_TYPE_CODE] nvarchar(20) NOT NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT] ADD CONSTRAINT [PROJCT_PROJECT_STATUS_CODE_DEF] DEFAULT ('ACTIVE') FOR [PROJECT_STATUS_TYPE_CODE]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT] ALTER COLUMN [REGION_CODE] smallint NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT] DROP CONSTRAINT IF EXISTS [PROJCT_REGION_CODE_DEF]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
UPDATE [dbo].[PIMS_PROJECT] SET [CODE] = -1, CONCURRENCY_CONTROL_NUMBER = CONCURRENCY_CONTROL_NUMBER + 1 WHERE [CODE] IS NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT] ALTER COLUMN [CODE] int NOT NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
--ALTER TABLE [dbo].[PIMS_PROJECT] ADD DEFAULT -1 FOR [CODE]
--GO
--IF @@ERROR <> 0 SET NOEXEC ON
--GO
ALTER TABLE [dbo].[PIMS_PROJECT] DROP CONSTRAINT IF EXISTS [PROJCT_DESCRIPTION_DEF]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
--ALTER TABLE [dbo].[PIMS_PROJECT] ADD DEFAULT '<Empty>' FOR [DESCRIPTION]
--GO
--IF @@ERROR <> 0 SET NOEXEC ON
--GO

-- Alter table dbo.PIMS_ACQUISITION_FILE_NOTE
PRINT N'Alter table dbo.PIMS_ACQUISITION_FILE_NOTE'
GO
EXEC sp_dropextendedproperty 
	@name = N'MS_Description' , 
	@level0type = N'Schema', @level0name = N'dbo', 
	@level1type = N'Table', @level1name = N'PIMS_ACQUISITION_FILE_NOTE'
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Alter table dbo.PIMS_PROJECT_HIST
PRINT N'Alter table dbo.PIMS_PROJECT_HIST'
GO
UPDATE [dbo].[PIMS_PROJECT_HIST] SET [PROJECT_STATUS_TYPE_CODE] = 'HO', CONCURRENCY_CONTROL_NUMBER = CONCURRENCY_CONTROL_NUMBER + 1 WHERE [PROJECT_STATUS_TYPE_CODE] IS NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT_HIST] ALTER COLUMN [PROJECT_STATUS_TYPE_CODE] nvarchar(20) NOT NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
--ALTER TABLE [dbo].[PIMS_PROJECT_HIST] ADD DEFAULT 'HO' FOR [PROJECT_STATUS_TYPE_CODE]
--GO
--IF @@ERROR <> 0 SET NOEXEC ON
--GO
ALTER TABLE [dbo].[PIMS_PROJECT_HIST] ALTER COLUMN [REGION_CODE] smallint NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
UPDATE [dbo].[PIMS_PROJECT_HIST] SET [CODE] = -1, CONCURRENCY_CONTROL_NUMBER = CONCURRENCY_CONTROL_NUMBER + 1 WHERE [CODE] IS NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
ALTER TABLE [dbo].[PIMS_PROJECT_HIST] ALTER COLUMN [CODE] int NOT NULL
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
--ALTER TABLE [dbo].[PIMS_PROJECT_HIST] ADD DEFAULT -1 FOR [CODE]
--GO
--IF @@ERROR <> 0 SET NOEXEC ON
--GO

-- Create unique index dbo.PROJCT_CODE_IDX
PRINT N'Create unique index dbo.PROJCT_CODE_IDX'
GO
CREATE UNIQUE NONCLUSTERED INDEX [PROJCT_CODE_IDX]
	ON [dbo].[PIMS_PROJECT]([CODE])
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Create index dbo.PROJCT_PROJECT_STATUS_CODE_IDX
PRINT N'Create index dbo.PROJCT_PROJECT_STATUS_CODE_IDX'
GO
CREATE NONCLUSTERED INDEX [PROJCT_PROJECT_STATUS_CODE_IDX]
	ON [dbo].[PIMS_PROJECT]([PROJECT_STATUS_TYPE_CODE])
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESEARCH_FILE_NOTE_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESEARCH_FILE_NOTE_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESEARCH_FILE_NOTE_HIST
PRINT N'Drop table dbo.PIMS_RESEARCH_FILE_NOTE_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESEARCH_FILE_NOTE_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESEARCH_FILE_NOTE_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_NOTE_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESEARCH_FILE_DOCUMENT_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESEARCH_FILE_DOCUMENT_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_RESEARCH_FILE_DOCUMENT_HIST
PRINT N'Drop table dbo.PIMS_RESEARCH_FILE_DOCUMENT_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_RESEARCH_FILE_DOCUMENT_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_RESEARCH_FILE_DOCUMENT_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_RESEARCH_FILE_DOCUMENT_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop table dbo.PIMS_ACQUISITION_FILE_DOCUMENT_HIST
PRINT N'Drop table dbo.PIMS_ACQUISITION_FILE_DOCUMENT_HIST'
GO
DROP TABLE IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT_HIST]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_ACQUISITION_FILE_DOCUMENT_H_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_ACQUISITION_FILE_DOCUMENT_H_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT_H_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

-- Drop sequence dbo.PIMS_ACQUISITION_FILE_DOCUMENT_ID_SEQ
PRINT N'Drop sequence dbo.PIMS_ACQUISITION_FILE_DOCUMENT_ID_SEQ'
GO
DROP SEQUENCE IF EXISTS [dbo].[PIMS_ACQUISITION_FILE_DOCUMENT_ID_SEQ]
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO

COMMIT TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
DECLARE @Success AS BIT
SET @Success = 1
SET NOEXEC OFF
IF (@Success = 1) PRINT 'The database update succeeded'
ELSE BEGIN
   IF @@TRANCOUNT > 0 ROLLBACK TRANSACTION
   PRINT 'The database update failed'
END
GO
